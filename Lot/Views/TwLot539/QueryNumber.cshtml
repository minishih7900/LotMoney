@model  Lot.Models.Models.Lottery5ViewModel
@using PagedList
@using PagedList.Mvc

@{
    ViewBag.Title = "今彩539-查詢號碼";
}

@section css{
    <style type="text/css">
        .pagination {
            list-style: none;
        }

            .pagination > li {
                float: left;
            }

                .pagination > li > a {
                    display: block;
                    border: solid 1px gray;
                    text-decoration: none;
                    color: #3d3d3d;
                    font-family: sans-serif;
                    font-size: 0.8em;
                    line-height: 35px;
                    padding: 0 15px;
                    border-radius: 1em;
                    margin: 2px;
                }

                .pagination > li.page a {
                    text-align: center;
                    width: 35px;
                    padding: 0;
                }

                .pagination > li:last-child > a, .pagination > li:last-child > span {
                    border-top-right-radius: 20em;
                    border-bottom-right-radius: 20em;
                }

                .pagination > li:first-child > a, .pagination > li:first-child > span {
                    border-bottom-left-radius: 20em;
                    border-top-left-radius: 20em;
                }

        .form-group > input[type="submit"] {
            display: block;
        }
    </style>
}

<div class="row">
    @Html.Partial("_TwLot539MenuPartial", "查詢號碼")
</div>
<hr />
<div class="row">
    @using (Html.BeginForm("QueryNumber", "TwLot539", FormMethod.Post, new { id = "QueryNumberList" }))
    {
        <div>
            @if (Model.LotNumber != null && Model.LotNumber.Count() > 0)
            {

                <table class="table table-hover">
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.LotNumber.First().DrawDate)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.LotNumber.First().Week)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.LotNumber.First().Num1)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.LotNumber.First().Num2)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.LotNumber.First().Num3)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.LotNumber.First().Num4)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.LotNumber.First().Num5)
                        </th>
                    </tr>

                    @foreach (var item in Model.LotNumber)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.DrawDate)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Week)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Num1)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Num2)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Num3)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Num4)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Num5)
                            </td>
                        </tr>
                    }

                </table>
            }
        </div>
        <div class="col-md-12 text-center">
            @Html.PagedListPager((IPagedList)Model.LotNumber, x => Url.Action("QueryNumber", new { Page = x }),

            new PagedListRenderOptions
            {
                DisplayLinkToFirstPage = PagedListDisplayMode.Always,
                DisplayLinkToLastPage = PagedListDisplayMode.Always,
                DisplayLinkToPreviousPage = PagedListDisplayMode.Always,
                DisplayLinkToNextPage = PagedListDisplayMode.Always,
                MaximumPageNumbersToDisplay = 3,
                DisplayItemSliceAndTotal = false
            }
            )
        </div>
    }

</div>

@section scripts{
    <script>

            //$(function () {
            //    $('.pagination>li>a[href]').each(function (i, item) {
            //        //var page = $(item).attr('href').replace('/Lottery/QueryNumber?Page=', '');
            //        //let params = new URL('https://example.com?foo=1&bar=2').searchParams;
            //        //params.get('foo'); // "1"
            //        //params.get('bar'); // "2"

            //        var page = $(item).html();
            //        $(item).attr('href', '#').click(function () { postPage(page); });

            //    });
            //});

            //function postPage(page) {
            //    var targetFormId = '#QueryNumberList';
            //    if ($(targetFormId).length > 0) {
            //        $('<input>')
            //            .attr({ type: 'hidden', id: 'PageIndex', name: 'Page', value: page })
            //            .appendTo($(targetFormId));
            //        $(targetFormId).submit();
            //    }
            //};

    </script>
}

